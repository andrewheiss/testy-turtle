{
  "hash": "83e73ff9f12a54539aebfb108437a404",
  "result": {
    "markdown": "---\ntitle: \"Model details\"\nauthor: \"Suparna Chaudhry and Andrew Heiss\"\ndate-modified: \"2022-12-07\"\n---\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(targets)\nlibrary(brms)\nlibrary(glue)\nlibrary(kableExtra)\nlibrary(lubridate)\nlibrary(here)\n\ntar_load(c(m_oda_treatment_total, m_oda_treatment_advocacy, \n           m_oda_treatment_entry, m_oda_treatment_funding, \n           m_oda_treatment_ccsi, m_oda_treatment_repress))\ntar_load(c(m_purpose_treatment_total, m_purpose_treatment_advocacy, \n           m_purpose_treatment_entry, m_purpose_treatment_funding, \n           m_purpose_treatment_ccsi, m_purpose_treatment_repress))\n# tar_load(c(m_recip_treatment_total_dom, m_recip_treatment_advocacy_dom, \n#            m_recip_treatment_entry_dom, m_recip_treatment_funding_dom, \n#            m_recip_treatment_ccsi_dom, m_recip_treatment_repress_dom))\n# tar_load(c(m_recip_treatment_total_foreign, m_recip_treatment_advocacy_foreign, \n#            m_recip_treatment_entry_foreign, m_recip_treatment_funding_foreign, \n#            m_recip_treatment_ccsi_foreign, m_recip_treatment_repress_foreign))\n\n# Outcome models\ntar_load(c(m_oda_outcome_total, m_oda_outcome_advocacy, \n           m_oda_outcome_entry, m_oda_outcome_funding,\n           m_oda_outcome_ccsi, m_oda_outcome_repress))\ntar_load(c(m_purpose_outcome_total, m_purpose_outcome_advocacy, \n           m_purpose_outcome_entry, m_purpose_outcome_funding,\n           m_purpose_outcome_ccsi, m_purpose_outcome_repress))\n# tar_load(c(m_recip_outcome_total_dom, m_recip_outcome_advocacy_dom, \n#            m_recip_outcome_entry_dom, m_recip_outcome_funding_dom,\n#            m_recip_outcome_ccsi_dom, m_recip_outcome_repress_dom))\n# tar_load(c(m_recip_outcome_total_foreign, m_recip_outcome_advocacy_foreign, \n#            m_recip_outcome_entry_foreign, m_recip_outcome_funding_foreign,\n#            m_recip_outcome_ccsi_foreign, m_recip_outcome_repress_foreign))\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_df <- tibble(\n  model_name = c(\"m_oda_treatment_total\", \"m_oda_treatment_advocacy\",\n                 \"m_oda_treatment_entry\", \"m_oda_treatment_funding\",\n                 \"m_oda_treatment_ccsi\", #\"m_oda_treatment_repress\",\n                 \"m_oda_outcome_total\", \"m_oda_outcome_advocacy\",\n                 \"m_oda_outcome_entry\", \"m_oda_outcome_funding\",\n                 \"m_oda_outcome_ccsi\", #\"m_oda_outcome_repress\",\n                 \"m_purpose_treatment_total\", \"m_purpose_treatment_advocacy\",\n                 \"m_purpose_treatment_entry\", \"m_purpose_treatment_funding\",\n                 # \"m_purpose_treatment_ccsi\", \"m_purpose_treatment_repress\",\n                 \"m_purpose_outcome_total\", \"m_purpose_outcome_advocacy\",\n                 \"m_purpose_outcome_entry\", \"m_purpose_outcome_funding\"\n                 # \"m_purpose_outcome_ccsi\", \"m_purpose_outcome_repress\"\n                 # \"m_recip_treatment_total_dom\", \"m_recip_treatment_advocacy_dom\", \n                 # \"m_recip_treatment_entry_dom\", \"m_recip_treatment_funding_dom\", \n                 # # \"m_recip_treatment_ccsi_dom\", \"m_recip_treatment_repress_dom\",\n                 # \"m_recip_outcome_total_dom\", \"m_recip_outcome_advocacy_dom\", \n                 # \"m_recip_outcome_entry_dom\", \"m_recip_outcome_funding_dom\",\n                 # # \"m_recip_outcome_ccsi_dom\", \"m_recip_outcome_repress_dom\",\n                 # \"m_recip_treatment_total_foreign\", \"m_recip_treatment_advocacy_foreign\", \n                 # \"m_recip_treatment_entry_foreign\", \"m_recip_treatment_funding_foreign\", \n                 # # \"m_recip_treatment_ccsi_foreign\", \"m_recip_treatment_repress_foreign\",\n                 # \"m_recip_outcome_total_foreign\", \"m_recip_outcome_advocacy_foreign\", \n                 # \"m_recip_outcome_entry_foreign\", \"m_recip_outcome_funding_foreign\"#,\n                 # # \"m_recip_outcome_ccsi_foreign\", \"m_recip_outcome_repress_foreign\"\n  )) %>% \n  mutate(actual_model = map(model_name, ~eval(rlang::sym(.)))) %>% \n  # Put standalone unlisted brms models in a list so that they can be unnested\n  mutate(actual_model = ifelse(map_chr(actual_model, ~class(.)) == \"brmsfit\",\n                               map(actual_model, ~list(.)), actual_model)) %>% \n  mutate(list_names = map(actual_model, ~names(.)))\n\nmodel_details_df <- model_df %>% \n  unnest(c(actual_model, list_names)) %>% \n  mutate(stage = ifelse(str_detect(model_name, \"treatment\"),\n                        \"Treatment\", \"Outcome\")) %>% \n  mutate(category = case_when(\n    str_detect(list_names, \"_num\") ~ \"Numerator\",\n    str_detect(list_names, \"_denom\") ~ \"Denominator\",\n    str_detect(list_names, \"\\\\d+\") ~ paste0(\"IPTW truncated at \", str_extract(list_names, \"\\\\d+\")),\n    TRUE ~ NA_character_\n  )) %>% \n  mutate(outcome = case_when(\n    str_detect(model_name, \"_oda_\") ~ \"Total aid\",\n    str_detect(model_name, \"_purpose_\") ~ \"Aid contentiousness\",\n    str_detect(model_name, \"recip_.*_dom\") ~ \"Aid recipients (domestic)\",\n    str_detect(model_name, \"recip_.*_foreign\") ~ \"Aid recipients (foreign)\"\n  )) %>% \n  mutate(treatment = case_when(\n    str_detect(model_name, \"_total\") ~ \"Total barriers\",\n    str_detect(model_name, \"_advocacy\") ~ \"Barriers to advocacy\",\n    str_detect(model_name, \"_entry\") ~ \"Barriers to entry\",\n    str_detect(model_name, \"_funding\") ~ \"Barriers to funding\",\n    str_detect(model_name, \"_ccsi\") ~ \"Civil society index\",\n    str_detect(model_name, \"_repress\") ~ \"Civil society repression\"\n  )) %>% \n  mutate(across(c(stage, category, outcome, treatment), ~fct_inorder(., ordered = TRUE)))\n\nmodel_details_summarized <- model_details_df %>% \n  mutate(duration = map(actual_model, ~rstan::get_elapsed_time(.$fit)),\n         duration = map(duration, ~rownames_to_column(as_tibble(.)))) %>% \n  select(-actual_model) %>% \n  unnest(duration) %>% \n  mutate(model_name = glue(\"<code>{model_name}</code>\")) %>% \n  group_by(Model = model_name, Treatment = treatment, Outcome = outcome,\n           Stage = stage, Details = category) %>% \n  summarize(`Total time (i.e. longest chain)` = as.duration(max(warmup + sample))) %>%\n  ungroup() %>% \n  arrange(Outcome, Treatment, Stage, Details)\n```\n:::\n\n\n\n\nWe ran these models on a 2021 M1 MacBook Pro with 10 cores and 32 GB of RAM, using Stan through brms through cmdstanr. In total, it took 1 hours, 56 minutes, and 18 seconds to run everything.\n\n\\ \n\n# Model run times\n\n## Models for H~1~ (total ODA)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_details_h1 <- model_details_summarized %>% \n  filter(Outcome == \"Total aid\")\n\ntotal_row_h1 <- tibble(\n  Treatment = \"Total\", \n  Model = \"All models\",\n  `Total time (i.e. longest chain)` = \n    as.duration(sum(model_details_h1$`Total time (i.e. longest chain)`))\n)\n\nmodel_time_h1 <- model_details_h1 %>% \n  bind_rows(total_row_h1) \n\nmodel_time_h1 %>% \n  select(-Treatment, -Outcome) %>% \n  rename(` ` = Model) %>% \n  kbl(escape = FALSE) %>% \n  pack_rows(index = table(fct_inorder(model_time_h1$Treatment))) %>% \n  kable_styling()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Stage </th>\n   <th style=\"text-align:left;\"> Details </th>\n   <th style=\"text-align:right;\"> Total time (i.e. longest chain) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Total barriers</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_total</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 13.978s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_total</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 10.219s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_total</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 61.244s (~1.02 minutes) </td>\n  </tr>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Barriers to advocacy</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_advocacy</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 26.421s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_advocacy</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 56.918s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_advocacy</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 55.136s </td>\n  </tr>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Barriers to entry</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_entry</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 25.874s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_entry</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 33.442s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_entry</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 58.086s </td>\n  </tr>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Barriers to funding</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_funding</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 25.698s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_funding</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 34.04s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_funding</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 52.737s </td>\n  </tr>\n  <tr grouplength=\"6\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Civil society index</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_ccsi</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 80.82s (~1.35 minutes) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_treatment_ccsi</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 187.964s (~3.13 minutes) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_ccsi</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\"> IPTW truncated at 100 </td>\n   <td style=\"text-align:right;\"> 366.47s (~6.11 minutes) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_ccsi</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\"> IPTW truncated at 500 </td>\n   <td style=\"text-align:right;\"> 484.91s (~8.08 minutes) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_ccsi</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\"> IPTW truncated at 1000 </td>\n   <td style=\"text-align:right;\"> 804.989s (~13.42 minutes) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_oda_outcome_ccsi</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\"> IPTW truncated at 5000 </td>\n   <td style=\"text-align:right;\"> 3748.56s (~1.04 hours) </td>\n  </tr>\n  <tr grouplength=\"1\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Total</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> All models </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 6127.506s (~1.7 hours) </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Models for H~2~ (aid contentiousness)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_details_h2 <- model_details_summarized %>% \n  filter(Outcome == \"Aid contentiousness\")\n\ntotal_row_h2 <- tibble(\n  Treatment = \"Total\", \n  Model = \"All models\",\n  `Total time (i.e. longest chain)` = \n    as.duration(sum(model_details_h2$`Total time (i.e. longest chain)`))\n)\n\nmodel_time_h2 <- model_details_h2 %>% \n  bind_rows(total_row_h2) \n\nmodel_time_h2 %>% \n  select(-Treatment, -Outcome) %>% \n  rename(` ` = Model) %>% \n  kbl(escape = FALSE) %>% \n  pack_rows(index = table(fct_inorder(model_time_h2$Treatment))) %>% \n  kable_styling()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Stage </th>\n   <th style=\"text-align:left;\"> Details </th>\n   <th style=\"text-align:right;\"> Total time (i.e. longest chain) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Total barriers</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_total</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 14.47s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_total</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 22.562s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_outcome_total</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 162.116s (~2.7 minutes) </td>\n  </tr>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Barriers to advocacy</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_advocacy</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 25.561s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_advocacy</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 56.428s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_outcome_advocacy</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 152.83s (~2.55 minutes) </td>\n  </tr>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Barriers to entry</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_entry</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 26.468s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_entry</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 33.549s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_outcome_entry</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 157.845s (~2.63 minutes) </td>\n  </tr>\n  <tr grouplength=\"3\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Barriers to funding</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_funding</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Numerator </td>\n   <td style=\"text-align:right;\"> 21.941s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_treatment_funding</code> </td>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:left;\"> Denominator </td>\n   <td style=\"text-align:right;\"> 34.14s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> <code>m_purpose_outcome_funding</code> </td>\n   <td style=\"text-align:left;\"> Outcome </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 142.709s (~2.38 minutes) </td>\n  </tr>\n  <tr grouplength=\"1\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Total</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> All models </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 850.619s (~14.18 minutes) </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Models for H~3~ (aid recipients)\n\n### Domestic NGOs\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_details_h3_dom <- model_details_summarized %>% \n  filter(Outcome == \"Aid recipients (domestic)\")\n\ntotal_row_h3_dom <- tibble(\n  Treatment = \"Total\", \n  Model = \"All models\",\n  `Total time (i.e. longest chain)` = \n    as.duration(sum(model_details_h3_dom$`Total time (i.e. longest chain)`))\n)\n\nmodel_time_h3_dom <- model_details_h3_dom %>% \n  bind_rows(total_row_h3_dom) \n\nmodel_time_h3_dom %>% \n  select(-Treatment, -Outcome) %>% \n  rename(` ` = Model) %>% \n  kbl(escape = FALSE) %>% \n  pack_rows(index = table(fct_inorder(model_time_h3_dom$Treatment))) %>% \n  kable_styling()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Stage </th>\n   <th style=\"text-align:left;\"> Details </th>\n   <th style=\"text-align:right;\"> Total time (i.e. longest chain) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr grouplength=\"1\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Total</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> All models </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 0s </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n### Foreign NGOs\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_details_h3_foreign <- model_details_summarized %>% \n  filter(Outcome == \"Aid recipients (foreign)\")\n\ntotal_row_h3_foreign <- tibble(\n  Treatment = \"Total\", \n  Model = \"All models\",\n  `Total time (i.e. longest chain)` = \n    as.duration(sum(model_details_h3_foreign$`Total time (i.e. longest chain)`))\n)\n\nmodel_time_h3_foreign <- model_details_h3_foreign %>% \n  bind_rows(total_row_h3_foreign) \n\nmodel_time_h3_foreign %>% \n  select(-Treatment, -Outcome) %>% \n  rename(` ` = Model) %>% \n  kbl(escape = FALSE) %>% \n  pack_rows(index = table(fct_inorder(model_time_h3_foreign$Treatment))) %>% \n  kable_styling()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Stage </th>\n   <th style=\"text-align:left;\"> Details </th>\n   <th style=\"text-align:right;\"> Total time (i.e. longest chain) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr grouplength=\"1\"><td colspan=\"4\" style=\"border-bottom: 1px solid;\"><strong>Total</strong></td></tr>\n<tr>\n   <td style=\"text-align:left;padding-left: 2em;\" indentlevel=\"1\"> All models </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:right;\"> 0s </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}